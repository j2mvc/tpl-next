{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport Error from 'next/error';\nimport Link from 'next/link';\nimport Head from 'next/head';\nimport api from \"../../api\";\nvar backgroundColor = '#eee';\n\nfunction createMarkup(html) {\n  return {\n    __html: html ? html : ''\n  };\n}\n\nvar Page =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Page, _React$Component);\n\n  function Page() {\n    _classCallCheck(this, Page);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Page).apply(this, arguments));\n  }\n\n  _createClass(Page, [{\n    key: \"render\",\n    value: function render() {\n      if (this.props.error) {\n        return React.createElement(Error, {\n          statusCode: this.props.error\n        });\n      }\n\n      var header = React.createElement(Head, null, React.createElement(\"title\", null, this.props.title), React.createElement(\"meta\", {\n        charSet: \"utf-8\"\n      }), React.createElement(\"meta\", {\n        name: \"viewport\",\n        content: \"initial-scale=1.0, width=device-width\"\n      }));\n      var doc = React.createElement(\"div\", {\n        className: \"jsx-3092485342\"\n      }, header, React.createElement(\"div\", {\n        className: \"jsx-3092485342\" + \" \" + 'hello'\n      }, \" PC\\u7AEF \"), React.createElement(\"h1\", {\n        className: \"jsx-3092485342\"\n      }, this.props.title), React.createElement(\"div\", {\n        dangerouslySetInnerHTML: this.props.content,\n        className: \"jsx-3092485342\"\n      }), React.createElement(_JSXStyle, {\n        id: \"3092485342\"\n      }, \".hello.jsx-3092485342{background-color:\".concat(backgroundColor, \";padding:100px;text-align:center;-webkit-transition:100ms ease-in background;transition:100ms ease-in background;}.hello.jsx-3092485342:hover{color:red;}@media only screen and (max-width:480px){.hello.jsx-3092485342{font-size:20px;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93YW5qaWEvRG9jdW1lbnRzL3dvcmtzL2dpdHJlcG9zL3RwbC90cGwtbmV4dC9wYWdlcy9jb250ZW50L2luZm8uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUR3QixBQUVpRCxBQUtsQyxBQUdPLFVBSE4sS0FHTywrQkFQTixjQUNJLGtCQUNrQixnRkFBQyIsImZpbGUiOiIvVXNlcnMvd2FuamlhL0RvY3VtZW50cy93b3Jrcy9naXRyZXBvcy90cGwvdHBsLW5leHQvcGFnZXMvY29udGVudC9pbmZvLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBFcnJvciBmcm9tICduZXh0L2Vycm9yJztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluaydcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCdcblxuaW1wb3J0IGFwaSBmcm9tIFwiLi4vLi4vYXBpXCI7XG5cbmNvbnN0IGJhY2tncm91bmRDb2xvciA9ICcjZWVlJ1xuXG5mdW5jdGlvbiBjcmVhdGVNYXJrdXAoaHRtbCkge1xuICAgIHJldHVybiB7X19odG1sOiBodG1sP2h0bWw6Jyd9O1xufVxuY2xhc3MgUGFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgICBzdGF0aWMgYXN5bmMgZ2V0SW5pdGlhbFByb3BzKHtxdWVyeX0pIHtcblxuICAgICAgICBsZXQgcHJvcHMgPSB7fTtcbiAgICAgICAgY29uc3QgY2F0TGlzdFJlcyA9ICBhd2FpdCBhcGkubW9kdWxlcy5jb250ZW50LmNhdC5nZXRMaXN0KCk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRJbmZvUmVzID0gYXdhaXQgYXBpLm1vZHVsZXMuY29udGVudC5jb250ZW50LmdldEluZm8ocXVlcnkuaWQpXG5cbiAgICAgICAgaWYoY2F0TGlzdFJlcy5jb2RlID09IDEpXG4gICAgICAgICAgICBwcm9wcy5jYXRMaXN0ID0gY2F0TGlzdFJlcy5kYXRhLmxpc3Q7XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBwcm9wcy5jYXRFcnJvciA9IGNhdExpc3RSZXMuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYoY29udGVudEluZm9SZXMuY29kZSA9PSAxKXtcbiAgICAgICAgICAgIGxldCBpbmZvID0gY29udGVudEluZm9SZXMuZGF0YS5pbmZvXG4gICAgICAgICAgICBwcm9wcy50aXRsZSA9IGluZm8udGl0bGVcbiAgICAgICAgICAgIHByb3BzLmtleXdvcmRzID0gaW5mby5rZXl3b3Jkc1xuICAgICAgICAgICAgcHJvcHMuY29udGVudCA9IGNyZWF0ZU1hcmt1cChpbmZvLmNvbnRlbnQpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHByb3BzLmNvbnRlbnRFcnJvciA9IGNvbnRlbnRJbmZvUmVzLmVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvcHMuZGVzY3JpcHRpb24gPSBcIui/memHjOaYr+aWh+eroOaPj+i/sFwiXG5cbiAgICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiA8RXJyb3Igc3RhdHVzQ29kZT17dGhpcy5wcm9wcy5lcnJvcn0gLz47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVhZGVyID0oPEhlYWQ+XG4gICAgICAgICAgICA8dGl0bGU+e3RoaXMucHJvcHMudGl0bGV9PC90aXRsZT5cbiAgICAgICAgICAgIDxtZXRhIGNoYXJTZXQ9J3V0Zi04JyAvPlxuICAgICAgICAgICAgPG1ldGEgbmFtZT0ndmlld3BvcnQnIGNvbnRlbnQ9J2luaXRpYWwtc2NhbGU9MS4wLCB3aWR0aD1kZXZpY2Utd2lkdGgnIC8+XG4gICAgICAgIDwvSGVhZD4pXG5cbiAgICAgICAgY29uc3QgZG9jID1cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHtoZWFkZXJ9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naGVsbG8nPiBQQ+erryA8L2Rpdj5cbiAgICAgICAgICAgIDxoMT57dGhpcy5wcm9wcy50aXRsZX08L2gxPlxuICAgICAgICAgICAgPGRpdiBkYW5nZXJvdXNseVNldElubmVySFRNTD17dGhpcy5wcm9wcy5jb250ZW50fS8+XG5cbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICRjb2xvcjogcmVkO1xuXG4gICAgICAuaGVsbG8ge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2JhY2tncm91bmRDb2xvcn07XG4gICAgICAgIHBhZGRpbmc6IDEwMHB4O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHRyYW5zaXRpb246IDEwMG1zIGVhc2UtaW4gYmFja2dyb3VuZDtcbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgY29sb3I6ICRjb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNDgwcHgpIHtcbiAgICAgICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgfTwvc3R5bGU+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHJldHVybiA8ZGl2PiB7ZG9jfTwvZGl2PlxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGFnZTtcbiJdfQ== */\\n/*@ sourceURL=/Users/wanjia/Documents/works/gitrepos/tpl/tpl-next/pages/content/info.js */\")));\n      return React.createElement(\"div\", null, \" \", doc);\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var query, props, catListRes, contentInfoRes, info;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = _ref.query;\n                props = {};\n                _context.next = 4;\n                return api.modules.content.cat.getList();\n\n              case 4:\n                catListRes = _context.sent;\n                _context.next = 7;\n                return api.modules.content.content.getInfo(query.id);\n\n              case 7:\n                contentInfoRes = _context.sent;\n                if (catListRes.code == 1) props.catList = catListRes.data.list;else {\n                  props.catError = catListRes.error;\n                }\n\n                if (contentInfoRes.code == 1) {\n                  info = contentInfoRes.data.info;\n                  props.title = info.title;\n                  props.keywords = info.keywords;\n                  props.content = createMarkup(info.content);\n                } else {\n                  props.contentError = contentInfoRes.error;\n                }\n\n                props.description = \"这里是文章描述\";\n                return _context.abrupt(\"return\", props);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Page;\n}(React.Component);\n\nexport default Page;","map":{"version":3,"sources":["/Users/wanjia/Documents/works/gitrepos/tpl/tpl-next/pages/content/info.js"],"names":["React","Error","Link","Head","api","backgroundColor","createMarkup","html","__html","Page","props","error","header","title","doc","content","query","modules","cat","getList","catListRes","getInfo","id","contentInfoRes","code","catList","data","list","catError","info","keywords","contentError","description","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,GAAP,MAAgB,WAAhB;AAEA,IAAMC,eAAe,GAAG,MAAxB;;AAEA,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;AACxB,SAAO;AAACC,IAAAA,MAAM,EAAED,IAAI,GAACA,IAAD,GAAM;AAAnB,GAAP;AACH;;IACKE,I;;;;;;;;;;;;;6BA4BO;AACL,UAAI,KAAKC,KAAL,CAAWC,KAAf,EAAsB;AAClB,eAAO,oBAAC,KAAD;AAAO,UAAA,UAAU,EAAE,KAAKD,KAAL,CAAWC;AAA9B,UAAP;AACH;;AACD,UAAMC,MAAM,GAAG,oBAAC,IAAD,QACX,mCAAQ,KAAKF,KAAL,CAAWG,KAAnB,CADW,EAEX;AAAM,QAAA,OAAO,EAAC;AAAd,QAFW,EAGX;AAAM,QAAA,IAAI,EAAC,UAAX;AAAsB,QAAA,OAAO,EAAC;AAA9B,QAHW,CAAf;AAMA,UAAMC,GAAG,GACT;AAAA;AAAA,SACKF,MADL,EAEI;AAAA,4CAAe;AAAf,sBAFJ,EAGI;AAAA;AAAA,SAAK,KAAKF,KAAL,CAAWG,KAAhB,CAHJ,EAII;AAAK,QAAA,uBAAuB,EAAE,KAAKH,KAAL,CAAWK,OAAzC;AAAA;AAAA,QAJJ;AAAA;AAAA,0DAUoBV,eAVpB,6iHADA;AA0BA,aAAO,sCAAOS,GAAP,CAAP;AACH;;;;;;;;;;;;AA/D6BE,gBAAAA,K,QAAAA,K;AAEtBN,gBAAAA,K,GAAQ,E;;uBACcN,GAAG,CAACa,OAAJ,CAAYF,OAAZ,CAAoBG,GAApB,CAAwBC,OAAxB,E;;;AAApBC,gBAAAA,U;;uBACuBhB,GAAG,CAACa,OAAJ,CAAYF,OAAZ,CAAoBA,OAApB,CAA4BM,OAA5B,CAAoCL,KAAK,CAACM,EAA1C,C;;;AAAvBC,gBAAAA,c;AAEN,oBAAGH,UAAU,CAACI,IAAX,IAAmB,CAAtB,EACId,KAAK,CAACe,OAAN,GAAgBL,UAAU,CAACM,IAAX,CAAgBC,IAAhC,CADJ,KAEI;AACAjB,kBAAAA,KAAK,CAACkB,QAAN,GAAiBR,UAAU,CAACT,KAA5B;AACH;;AACD,oBAAGY,cAAc,CAACC,IAAf,IAAuB,CAA1B,EAA4B;AACpBK,kBAAAA,IADoB,GACbN,cAAc,CAACG,IAAf,CAAoBG,IADP;AAExBnB,kBAAAA,KAAK,CAACG,KAAN,GAAcgB,IAAI,CAAChB,KAAnB;AACAH,kBAAAA,KAAK,CAACoB,QAAN,GAAiBD,IAAI,CAACC,QAAtB;AACApB,kBAAAA,KAAK,CAACK,OAAN,GAAgBT,YAAY,CAACuB,IAAI,CAACd,OAAN,CAA5B;AACH,iBALD,MAMI;AACAL,kBAAAA,KAAK,CAACqB,YAAN,GAAqBR,cAAc,CAACZ,KAApC;AACH;;AAEDD,gBAAAA,KAAK,CAACsB,WAAN,GAAoB,SAApB;iDAEOtB,K;;;;;;;;;;;;;;;;;;;EAzBIV,KAAK,CAACiC,S;;AAoEzB,eAAexB,IAAf","sourcesContent":["import React from 'react';\nimport Error from 'next/error';\nimport Link from 'next/link'\nimport Head from 'next/head'\n\nimport api from \"../../api\";\n\nconst backgroundColor = '#eee'\n\nfunction createMarkup(html) {\n    return {__html: html?html:''};\n}\nclass Page extends React.Component {\n\n    static async getInitialProps({query}) {\n\n        let props = {};\n        const catListRes =  await api.modules.content.cat.getList();\n        const contentInfoRes = await api.modules.content.content.getInfo(query.id)\n\n        if(catListRes.code == 1)\n            props.catList = catListRes.data.list;\n        else{\n            props.catError = catListRes.error;\n        }\n        if(contentInfoRes.code == 1){\n            let info = contentInfoRes.data.info\n            props.title = info.title\n            props.keywords = info.keywords\n            props.content = createMarkup(info.content)\n        }\n        else{\n            props.contentError = contentInfoRes.error;\n        }\n\n        props.description = \"这里是文章描述\"\n\n        return props;\n    }\n\n    render() {\n        if (this.props.error) {\n            return <Error statusCode={this.props.error} />;\n        }\n        const header =(<Head>\n            <title>{this.props.title}</title>\n            <meta charSet='utf-8' />\n            <meta name='viewport' content='initial-scale=1.0, width=device-width' />\n        </Head>)\n\n        const doc =\n        <div>\n            {header}\n            <div className='hello'> PC端 </div>\n            <h1>{this.props.title}</h1>\n            <div dangerouslySetInnerHTML={this.props.content}/>\n\n            <style jsx>{`\n      $color: red;\n\n      .hello {\n        background-color: ${backgroundColor};\n        padding: 100px;\n        text-align: center;\n        transition: 100ms ease-in background;\n        &:hover {\n          color: $color;\n        }\n\n        @media only screen and (max-width: 480px) {\n          font-size: 20px;\n        }\n      }\n    `}</style>\n        </div>\n\n        return <div> {doc}</div>\n    }\n}\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}