{"ast":null,"code":"// 查找modules目录下的所有目录js文件\nvar files = require.context(\"./modules\", true, /\\.js$/);\n\nvar modules = {};\n/**\n * 读取模块\n * @param ks\n * @param value\n * @param modules\n * @param i\n * @param len\n * @returns {*|{}}\n */\n\nexport function getModule(ks, value, modules, i, len) {\n  modules = modules || {};\n\n  if (i < len) {\n    if (i == len - 1) {\n      // 最后一层，赋值\n      modules[ks[len - 1]] = value;\n    } else {\n      var m = modules[ks[i]] || {};\n      modules[ks[i]] = m;\n      i++;\n      getModule(ks, value, m, i, len);\n    }\n  }\n\n  return modules;\n}\nfiles.keys().forEach(function (key) {\n  var k = key.replace(/(\\.\\/|\\.js)/g, '').replace(/(\\/)$/g, '');\n  var ks = k.split('/');\n\n  if (ks.length > 1) {\n    // 有子模块\n    getModule(ks, files(key).default, modules, 0, ks.length);\n  } else {\n    modules[k] = files(key).default;\n  }\n});\n/**\n * API调用方法：modules.common.ad.getList\n */\n\nexport default modules;","map":null,"metadata":{},"sourceType":"module"}